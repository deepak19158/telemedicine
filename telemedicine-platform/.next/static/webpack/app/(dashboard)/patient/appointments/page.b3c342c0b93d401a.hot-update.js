"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(dashboard)/patient/appointments/page",{

/***/ "(app-pages-browser)/./lib/hooks/useApi.ts":
/*!*****************************!*\
  !*** ./lib/hooks/useApi.ts ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useAdminUsers: function() { return /* binding */ useAdminUsers; },\n/* harmony export */   useApi: function() { return /* binding */ useApi; },\n/* harmony export */   useApiMutation: function() { return /* binding */ useApiMutation; },\n/* harmony export */   useApproveDoctor: function() { return /* binding */ useApproveDoctor; },\n/* harmony export */   useDoctorAvailability: function() { return /* binding */ useDoctorAvailability; },\n/* harmony export */   useDoctorProfile: function() { return /* binding */ useDoctorProfile; },\n/* harmony export */   useDoctorSearch: function() { return /* binding */ useDoctorSearch; },\n/* harmony export */   useLoadingTimeout: function() { return /* binding */ useLoadingTimeout; },\n/* harmony export */   usePagination: function() { return /* binding */ usePagination; },\n/* harmony export */   usePendingDoctors: function() { return /* binding */ usePendingDoctors; },\n/* harmony export */   useRegisterDoctor: function() { return /* binding */ useRegisterDoctor; },\n/* harmony export */   useSearch: function() { return /* binding */ useSearch; },\n/* harmony export */   useSpecializations: function() { return /* binding */ useSpecializations; },\n/* harmony export */   useUpdateDoctorAvailability: function() { return /* binding */ useUpdateDoctorAvailability; },\n/* harmony export */   useUpdateDoctorProfile: function() { return /* binding */ useUpdateDoctorProfile; },\n/* harmony export */   useUpdateUserProfile: function() { return /* binding */ useUpdateUserProfile; },\n/* harmony export */   useUpdateUserStatus: function() { return /* binding */ useUpdateUserStatus; },\n/* harmony export */   useUploadAvatar: function() { return /* binding */ useUploadAvatar; },\n/* harmony export */   useUserAnalytics: function() { return /* binding */ useUserAnalytics; },\n/* harmony export */   useUserProfile: function() { return /* binding */ useUserProfile; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../api-client */ \"(app-pages-browser)/./lib/api-client.ts\");\n\n\n// Generic hook for API calls\nfunction useApi(apiCall) {\n    let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    const { immediate = true, onSuccess, onError, timeout = 30000, enabled = true, retries = 2, retryDelay = 1000 // 1 second delay between retries\n     } = options;\n    const [data, setData] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [timedOut, setTimedOut] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [abortController, setAbortController] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [loadingStartTime, setLoadingStartTime] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [retryCount, setRetryCount] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const fetchData = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async function() {\n        let attemptNumber = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n        if (!enabled) return;\n        try {\n            console.log(\"\\uD83D\\uDD04 Starting API call attempt \".concat(attemptNumber + 1, \"/\").concat(retries + 1, \"...\")) // Debug log\n            ;\n            // Cancel previous request if it exists\n            if (abortController) {\n                abortController.abort();\n            }\n            const newAbortController = new AbortController();\n            setAbortController(newAbortController);\n            if (attemptNumber === 0) {\n                setLoading(true);\n                setError(null);\n                setTimedOut(false);\n                setLoadingStartTime(Date.now());\n                setRetryCount(0);\n            }\n            // Create timeout promise\n            const timeoutPromise = new Promise((_, reject)=>{\n                setTimeout(()=>{\n                    setTimedOut(true);\n                    reject(new Error(\"Request timeout - please check your connection\"));\n                }, timeout);\n            });\n            // Race between API call and timeout\n            const response = await Promise.race([\n                apiCall(),\n                timeoutPromise\n            ]);\n            // Check if request was aborted\n            if (newAbortController.signal.aborted) {\n                console.log(\"\\uD83D\\uDEAB Request was aborted\") // Debug log\n                ;\n                return;\n            }\n            console.log(\"✅ API call response:\", response) // Debug log\n            ;\n            if (response.success) {\n                setData(response.data);\n                onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess(response.data);\n                setRetryCount(0) // Reset retry count on success\n                ;\n                console.log(\"✅ API call successful, data set\") // Debug log\n                ;\n            } else {\n                const errorMsg = response.error || \"Unknown error occurred\";\n                // Check if we should retry for certain errors\n                const shouldRetry = attemptNumber < retries && (response.status >= 500 || // Server errors\n                response.status === 0 || // Network errors\n                errorMsg.includes(\"Network error\") || errorMsg.includes(\"timeout\"));\n                if (shouldRetry) {\n                    console.log(\"\\uD83D\\uDD01 Retrying after error: \".concat(errorMsg, \". Attempt \").concat(attemptNumber + 2, \"/\").concat(retries + 1)) // Debug log\n                    ;\n                    setRetryCount(attemptNumber + 1);\n                    setTimeout(()=>{\n                        fetchData(attemptNumber + 1);\n                    }, retryDelay * (attemptNumber + 1)) // Exponential backoff\n                    ;\n                    return;\n                }\n                setError(errorMsg);\n                onError === null || onError === void 0 ? void 0 : onError(errorMsg);\n                console.log(\"❌ API call failed:\", errorMsg) // Debug log\n                ;\n            }\n        } catch (err) {\n            if (err instanceof Error && err.name === \"AbortError\") {\n                console.log(\"\\uD83D\\uDEAB Request was aborted\") // Debug log\n                ;\n                return;\n            }\n            const errorMessage = err instanceof Error ? err.message : \"Network error\";\n            // Check if we should retry\n            const shouldRetry = attemptNumber < retries && (errorMessage.includes(\"Network error\") || errorMessage.includes(\"timeout\") || errorMessage.includes(\"fetch\"));\n            if (shouldRetry) {\n                console.log(\"\\uD83D\\uDD01 Retrying after error: \".concat(errorMessage, \". Attempt \").concat(attemptNumber + 2, \"/\").concat(retries + 1)) // Debug log\n                ;\n                setRetryCount(attemptNumber + 1);\n                setTimeout(()=>{\n                    fetchData(attemptNumber + 1);\n                }, retryDelay * (attemptNumber + 1)) // Exponential backoff\n                ;\n                return;\n            }\n            setError(errorMessage);\n            onError === null || onError === void 0 ? void 0 : onError(errorMessage);\n            console.log(\"\\uD83D\\uDCA5 API call error:\", errorMessage) // Debug log\n            ;\n        } finally{\n            if (attemptNumber === 0 || attemptNumber >= retries) {\n                setLoading(false);\n                setAbortController(null);\n                console.log(\"\\uD83C\\uDFC1 API call finished, loading set to false\") // Debug log\n                ;\n            }\n        }\n    }, [\n        enabled,\n        timeout,\n        retries,\n        retryDelay\n    ]) // Removed apiCall, onSuccess, onError from dependencies to prevent infinite loops\n    ;\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (immediate && enabled) {\n            console.log(\"\\uD83D\\uDE80 useEffect triggered, calling fetchData\") // Debug log\n            ;\n            fetchData();\n        }\n        // Cleanup function to abort ongoing requests\n        return ()=>{\n            if (abortController) {\n                abortController.abort();\n            }\n        };\n    }, [\n        immediate,\n        enabled\n    ]) // Removed fetchData from dependencies\n    ;\n    return {\n        data,\n        loading,\n        error,\n        refetch: ()=>fetchData(0),\n        timedOut,\n        retryCount\n    };\n}\n// Hook for handling loading timeouts\nfunction useLoadingTimeout(isLoading) {\n    let timeoutMs = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 10000;\n    const [hasTimedOut, setHasTimedOut] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!isLoading) {\n            setHasTimedOut(false);\n            return;\n        }\n        const timer = setTimeout(()=>{\n            setHasTimedOut(true);\n            console.log(\"⏰ Loading timeout reached after\", timeoutMs, \"ms\");\n        }, timeoutMs);\n        return ()=>clearTimeout(timer);\n    }, [\n        isLoading,\n        timeoutMs\n    ]);\n    return hasTimedOut;\n}\n// Hook for mutations (POST, PUT, DELETE)\nfunction useApiMutation(mutationFn) {\n    let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const mutate = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (variables)=>{\n        try {\n            setLoading(true);\n            setError(null);\n            const response = await mutationFn(variables);\n            if (response.success) {\n                var _options_onSuccess;\n                (_options_onSuccess = options.onSuccess) === null || _options_onSuccess === void 0 ? void 0 : _options_onSuccess.call(options, response.data);\n                return response.data;\n            } else {\n                var _options_onError;\n                setError(response.error || \"Unknown error occurred\");\n                (_options_onError = options.onError) === null || _options_onError === void 0 ? void 0 : _options_onError.call(options, response.error || \"Unknown error occurred\");\n                throw new Error(response.error);\n            }\n        } catch (err) {\n            var _options_onError1;\n            const errorMessage = err instanceof Error ? err.message : \"Network error\";\n            setError(errorMessage);\n            (_options_onError1 = options.onError) === null || _options_onError1 === void 0 ? void 0 : _options_onError1.call(options, errorMessage);\n            throw err;\n        } finally{\n            setLoading(false);\n        }\n    }, [\n        mutationFn,\n        options\n    ]);\n    return {\n        mutate,\n        loading,\n        error,\n        reset: ()=>setError(null)\n    };\n}\n// Specific hooks for common API calls\n// User Profile Hooks\nfunction useUserProfile() {\n    let options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n    const { enabled = true } = options;\n    return useApi(()=>_api_client__WEBPACK_IMPORTED_MODULE_1__.apiClient.user.getProfile(), {\n        enabled,\n        timeout: 15000,\n        onSuccess: (data)=>{\n            console.log(\"\\uD83D\\uDC64 User profile loaded successfully:\", data);\n        },\n        onError: (error)=>{\n            console.log(\"\\uD83D\\uDC64 User profile failed to load:\", error);\n        }\n    });\n}\nfunction useUpdateUserProfile() {\n    return useApiMutation((profileData)=>_api_client__WEBPACK_IMPORTED_MODULE_1__.apiClient.user.updateProfile(profileData));\n}\nfunction useUploadAvatar() {\n    return useApiMutation((file)=>_api_client__WEBPACK_IMPORTED_MODULE_1__.apiClient.user.uploadAvatar(file));\n}\n// Doctor Profile Hooks\nfunction useDoctorProfile() {\n    return useApi(()=>_api_client__WEBPACK_IMPORTED_MODULE_1__.apiClient.doctor.getProfile());\n}\nfunction useUpdateDoctorProfile() {\n    return useApiMutation((profileData)=>_api_client__WEBPACK_IMPORTED_MODULE_1__.apiClient.doctor.updateProfile(profileData));\n}\nfunction useDoctorAvailability() {\n    return useApi(()=>_api_client__WEBPACK_IMPORTED_MODULE_1__.apiClient.doctor.getAvailability());\n}\nfunction useUpdateDoctorAvailability() {\n    return useApiMutation((availabilityData)=>_api_client__WEBPACK_IMPORTED_MODULE_1__.apiClient.doctor.updateAvailability(availabilityData));\n}\n// Doctor Search Hook\nfunction useDoctorSearch() {\n    let params = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n    return useApi(()=>_api_client__WEBPACK_IMPORTED_MODULE_1__.apiClient.doctor.search(params), {\n        immediate: Object.keys(params).length > 0\n    });\n}\n// Specializations Hook\nfunction useSpecializations() {\n    return useApi(()=>_api_client__WEBPACK_IMPORTED_MODULE_1__.apiClient.doctor.getSpecializations());\n}\n// Admin Hooks\nfunction useAdminUsers() {\n    let params = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n    return useApi(()=>_api_client__WEBPACK_IMPORTED_MODULE_1__.apiClient.admin.getUsers(params));\n}\nfunction useUpdateUserStatus() {\n    return useApiMutation((data)=>_api_client__WEBPACK_IMPORTED_MODULE_1__.apiClient.admin.updateUserStatus(data.userId, data.isActive, data.reason));\n}\nfunction useUserAnalytics(period) {\n    return useApi(()=>_api_client__WEBPACK_IMPORTED_MODULE_1__.apiClient.admin.getUserAnalytics(period));\n}\nfunction usePendingDoctors() {\n    let params = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n    return useApi(()=>_api_client__WEBPACK_IMPORTED_MODULE_1__.apiClient.admin.getPendingDoctors(params));\n}\nfunction useApproveDoctor() {\n    return useApiMutation((data)=>_api_client__WEBPACK_IMPORTED_MODULE_1__.apiClient.admin.approveDoctor(data.doctorId, data.action, data.reason, data.assignPatients));\n}\n// Doctor Registration Hook\nfunction useRegisterDoctor() {\n    return useApiMutation((doctorData)=>_api_client__WEBPACK_IMPORTED_MODULE_1__.apiClient.doctor.register(doctorData));\n}\n// Helper hook for pagination\nfunction usePagination() {\n    let initialPage = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 1, initialLimit = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 10;\n    const [page, setPage] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialPage);\n    const [limit, setLimit] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialLimit);\n    const nextPage = ()=>setPage((prev)=>prev + 1);\n    const prevPage = ()=>setPage((prev)=>Math.max(1, prev - 1));\n    const goToPage = (newPage)=>setPage(Math.max(1, newPage));\n    const changeLimit = (newLimit)=>{\n        setLimit(newLimit);\n        setPage(1) // Reset to first page when changing limit\n        ;\n    };\n    return {\n        page,\n        limit,\n        nextPage,\n        prevPage,\n        goToPage,\n        changeLimit,\n        params: {\n            page: page.toString(),\n            limit: limit.toString()\n        }\n    };\n}\n// Helper hook for search\nfunction useSearch() {\n    let initialQuery = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"\";\n    const [query, setQuery] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialQuery);\n    const [debouncedQuery, setDebouncedQuery] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialQuery);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const timer = setTimeout(()=>{\n            setDebouncedQuery(query);\n        }, 300) // 300ms debounce\n        ;\n        return ()=>clearTimeout(timer);\n    }, [\n        query\n    ]);\n    return {\n        query,\n        debouncedQuery,\n        setQuery,\n        clearQuery: ()=>setQuery(\"\")\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2xpYi9ob29rcy91c2VBcGkudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBd0Q7QUFDRjtBQW1CdEQsNkJBQTZCO0FBQ3RCLFNBQVNJLE9BQ2RDLE9BQXNDO1FBQ3RDQyxVQUFBQSxpRUFBeUIsQ0FBQztJQUUxQixNQUFNLEVBQ0pDLFlBQVksSUFBSSxFQUNoQkMsU0FBUyxFQUNUQyxPQUFPLEVBQ1BDLFVBQVUsS0FBSyxFQUNmQyxVQUFVLElBQUksRUFDZEMsVUFBVSxDQUFDLEVBQ1hDLGFBQWEsS0FBSyxpQ0FBaUM7SUFBbEMsRUFDbEIsR0FBR1A7SUFFSixNQUFNLENBQUNRLE1BQU1DLFFBQVEsR0FBR2YsK0NBQVFBLENBQVc7SUFDM0MsTUFBTSxDQUFDZ0IsU0FBU0MsV0FBVyxHQUFHakIsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDa0IsT0FBT0MsU0FBUyxHQUFHbkIsK0NBQVFBLENBQWdCO0lBQ2xELE1BQU0sQ0FBQ29CLFVBQVVDLFlBQVksR0FBR3JCLCtDQUFRQSxDQUFDO0lBQ3pDLE1BQU0sQ0FBQ3NCLGlCQUFpQkMsbUJBQW1CLEdBQUd2QiwrQ0FBUUEsQ0FBeUI7SUFDL0UsTUFBTSxDQUFDd0Isa0JBQWtCQyxvQkFBb0IsR0FBR3pCLCtDQUFRQSxDQUFnQjtJQUN4RSxNQUFNLENBQUMwQixZQUFZQyxjQUFjLEdBQUczQiwrQ0FBUUEsQ0FBQztJQUU3QyxNQUFNNEIsWUFBWTFCLGtEQUFXQSxDQUFDO1lBQU8yQixpRkFBZ0I7UUFDbkQsSUFBSSxDQUFDbEIsU0FBUztRQUVkLElBQUk7WUFDRm1CLFFBQVFDLEdBQUcsQ0FBQywwQ0FBcURuQixPQUFyQmlCLGdCQUFnQixHQUFFLEtBQWUsT0FBWmpCLFVBQVUsR0FBRSxRQUFNLFlBQVk7O1lBRS9GLHVDQUF1QztZQUN2QyxJQUFJVSxpQkFBaUI7Z0JBQ25CQSxnQkFBZ0JVLEtBQUs7WUFDdkI7WUFFQSxNQUFNQyxxQkFBcUIs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QzFELE1BQU1JLFdBQVcsQ0FBQ0MsVUFBb0JULFFBQVFNLEtBQUtDLEdBQUcsQ0FBQyxHQUFHRTtJQUMxRCxNQUFNQyxjQUFjLENBQUNDO1FBQ25CVCxTQUFTUztRQUNUWCxRQUFRLEdBQUcsMENBQTBDOztJQUN2RDtJQUVBLE9BQU87UUFDTEQ7UUFDQUU7UUFDQUU7UUFDQUU7UUFDQUc7UUFDQUU7UUFDQTFDLFFBQVE7WUFBRStCLE1BQU1BLEtBQUthLFFBQVE7WUFBSVgsT0FBT0EsTUFBTVcsUUFBUTtRQUFHO0lBQzNEO0FBQ0Y7QUFFQSx5QkFBeUI7QUFDbEIsU0FBU0M7UUFBVUMsZUFBQUEsaUVBQWU7SUFDdkMsTUFBTSxDQUFDQyxPQUFPQyxTQUFTLEdBQUd2SSwrQ0FBUUEsQ0FBQ3FJO0lBQ25DLE1BQU0sQ0FBQ0csZ0JBQWdCQyxrQkFBa0IsR0FBR3pJLCtDQUFRQSxDQUFDcUk7SUFFckRwSSxnREFBU0EsQ0FBQztRQUNSLE1BQU02RCxRQUFRckIsV0FBVztZQUN2QmdHLGtCQUFrQkg7UUFDcEIsR0FBRyxLQUFLLGlCQUFpQjs7UUFFekIsT0FBTyxJQUFNdkUsYUFBYUQ7SUFDNUIsR0FBRztRQUFDd0U7S0FBTTtJQUVWLE9BQU87UUFDTEE7UUFDQUU7UUFDQUQ7UUFDQUcsWUFBWSxJQUFNSCxTQUFTO0lBQzdCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbGliL2hvb2tzL3VzZUFwaS50cz8zM2U2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBhcGlDbGllbnQsIEFwaVJlc3BvbnNlIH0gZnJvbSAnLi4vYXBpLWNsaWVudCdcblxuaW50ZXJmYWNlIFVzZUFwaVN0YXRlPFQ+IHtcbiAgZGF0YTogVCB8IG51bGxcbiAgbG9hZGluZzogYm9vbGVhblxuICBlcnJvcjogc3RyaW5nIHwgbnVsbFxuICByZWZldGNoOiAoKSA9PiBQcm9taXNlPHZvaWQ+XG59XG5cbmludGVyZmFjZSBVc2VBcGlPcHRpb25zIHtcbiAgaW1tZWRpYXRlPzogYm9vbGVhblxuICBvblN1Y2Nlc3M/OiAoZGF0YTogYW55KSA9PiB2b2lkXG4gIG9uRXJyb3I/OiAoZXJyb3I6IHN0cmluZykgPT4gdm9pZFxuICB0aW1lb3V0PzogbnVtYmVyXG4gIGVuYWJsZWQ/OiBib29sZWFuXG4gIHJldHJpZXM/OiBudW1iZXJcbiAgcmV0cnlEZWxheT86IG51bWJlclxufVxuXG4vLyBHZW5lcmljIGhvb2sgZm9yIEFQSSBjYWxsc1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUFwaTxUPihcbiAgYXBpQ2FsbDogKCkgPT4gUHJvbWlzZTxBcGlSZXNwb25zZTxUPj4sXG4gIG9wdGlvbnM6IFVzZUFwaU9wdGlvbnMgPSB7fVxuKTogVXNlQXBpU3RhdGU8VD4ge1xuICBjb25zdCB7IFxuICAgIGltbWVkaWF0ZSA9IHRydWUsIFxuICAgIG9uU3VjY2VzcywgXG4gICAgb25FcnJvciwgXG4gICAgdGltZW91dCA9IDMwMDAwLCAvLyAzMCBzZWNvbmQgdGltZW91dFxuICAgIGVuYWJsZWQgPSB0cnVlLFxuICAgIHJldHJpZXMgPSAyLCAvLyBEZWZhdWx0IDIgcmV0cmllc1xuICAgIHJldHJ5RGVsYXkgPSAxMDAwIC8vIDEgc2Vjb25kIGRlbGF5IGJldHdlZW4gcmV0cmllc1xuICB9ID0gb3B0aW9uc1xuICBcbiAgY29uc3QgW2RhdGEsIHNldERhdGFdID0gdXNlU3RhdGU8VCB8IG51bGw+KG51bGwpXG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpXG4gIGNvbnN0IFt0aW1lZE91dCwgc2V0VGltZWRPdXRdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFthYm9ydENvbnRyb2xsZXIsIHNldEFib3J0Q29udHJvbGxlcl0gPSB1c2VTdGF0ZTxBYm9ydENvbnRyb2xsZXIgfCBudWxsPihudWxsKVxuICBjb25zdCBbbG9hZGluZ1N0YXJ0VGltZSwgc2V0TG9hZGluZ1N0YXJ0VGltZV0gPSB1c2VTdGF0ZTxudW1iZXIgfCBudWxsPihudWxsKVxuICBjb25zdCBbcmV0cnlDb3VudCwgc2V0UmV0cnlDb3VudF0gPSB1c2VTdGF0ZSgwKVxuXG4gIGNvbnN0IGZldGNoRGF0YSA9IHVzZUNhbGxiYWNrKGFzeW5jIChhdHRlbXB0TnVtYmVyID0gMCkgPT4ge1xuICAgIGlmICghZW5hYmxlZCkgcmV0dXJuXG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKGDwn5SEIFN0YXJ0aW5nIEFQSSBjYWxsIGF0dGVtcHQgJHthdHRlbXB0TnVtYmVyICsgMX0vJHtyZXRyaWVzICsgMX0uLi5gKSAvLyBEZWJ1ZyBsb2dcbiAgICAgIFxuICAgICAgLy8gQ2FuY2VsIHByZXZpb3VzIHJlcXVlc3QgaWYgaXQgZXhpc3RzXG4gICAgICBpZiAoYWJvcnRDb250cm9sbGVyKSB7XG4gICAgICAgIGFib3J0Q29udHJvbGxlci5hYm9ydCgpXG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IG5ld0Fib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKVxuICAgICAgc2V0QWJvcnRDb250cm9sbGVyKG5ld0Fib3J0Q29udHJvbGxlcilcbiAgICAgIFxuICAgICAgaWYgKGF0dGVtcHROdW1iZXIgPT09IDApIHtcbiAgICAgICAgc2V0TG9hZGluZyh0cnVlKVxuICAgICAgICBzZXRFcnJvcihudWxsKVxuICAgICAgICBzZXRUaW1lZE91dChmYWxzZSlcbiAgICAgICAgc2V0TG9hZGluZ1N0YXJ0VGltZShEYXRlLm5vdygpKVxuICAgICAgICBzZXRSZXRyeUNvdW50KDApXG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENyZWF0ZSB0aW1lb3V0IHByb21pc2VcbiAgICAgIGNvbnN0IHRpbWVvdXRQcm9taXNlID0gbmV3IFByb21pc2UoKF8sIHJlamVjdCkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBzZXRUaW1lZE91dCh0cnVlKVxuICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1JlcXVlc3QgdGltZW91dCAtIHBsZWFzZSBjaGVjayB5b3VyIGNvbm5lY3Rpb24nKSlcbiAgICAgICAgfSwgdGltZW91dClcbiAgICAgIH0pXG4gICAgICBcbiAgICAgIC8vIFJhY2UgYmV0d2VlbiBBUEkgY2FsbCBhbmQgdGltZW91dFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQcm9taXNlLnJhY2UoW1xuICAgICAgICBhcGlDYWxsKCksXG4gICAgICAgIHRpbWVvdXRQcm9taXNlXG4gICAgICBdKSBhcyBBcGlSZXNwb25zZTxUPlxuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiByZXF1ZXN0IHdhcyBhYm9ydGVkXG4gICAgICBpZiAobmV3QWJvcnRDb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5qrIFJlcXVlc3Qgd2FzIGFib3J0ZWQnKSAvLyBEZWJ1ZyBsb2dcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgQVBJIGNhbGwgcmVzcG9uc2U6JywgcmVzcG9uc2UpIC8vIERlYnVnIGxvZ1xuICAgICAgXG4gICAgICBpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICBzZXREYXRhKHJlc3BvbnNlLmRhdGEpXG4gICAgICAgIG9uU3VjY2Vzcz8uKHJlc3BvbnNlLmRhdGEpXG4gICAgICAgIHNldFJldHJ5Q291bnQoMCkgLy8gUmVzZXQgcmV0cnkgY291bnQgb24gc3VjY2Vzc1xuICAgICAgICBjb25zb2xlLmxvZygn4pyFIEFQSSBjYWxsIHN1Y2Nlc3NmdWwsIGRhdGEgc2V0JykgLy8gRGVidWcgbG9nXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBlcnJvck1zZyA9IHJlc3BvbnNlLmVycm9yIHx8ICdVbmtub3duIGVycm9yIG9jY3VycmVkJ1xuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgaWYgd2Ugc2hvdWxkIHJldHJ5IGZvciBjZXJ0YWluIGVycm9yc1xuICAgICAgICBjb25zdCBzaG91bGRSZXRyeSA9IGF0dGVtcHROdW1iZXIgPCByZXRyaWVzICYmIChcbiAgICAgICAgICByZXNwb25zZS5zdGF0dXMgPj0gNTAwIHx8IC8vIFNlcnZlciBlcnJvcnNcbiAgICAgICAgICByZXNwb25zZS5zdGF0dXMgPT09IDAgfHwgIC8vIE5ldHdvcmsgZXJyb3JzXG4gICAgICAgICAgZXJyb3JNc2cuaW5jbHVkZXMoJ05ldHdvcmsgZXJyb3InKSB8fFxuICAgICAgICAgIGVycm9yTXNnLmluY2x1ZGVzKCd0aW1lb3V0JylcbiAgICAgICAgKVxuICAgICAgICBcbiAgICAgICAgaWYgKHNob3VsZFJldHJ5KSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYPCflIEgUmV0cnlpbmcgYWZ0ZXIgZXJyb3I6ICR7ZXJyb3JNc2d9LiBBdHRlbXB0ICR7YXR0ZW1wdE51bWJlciArIDJ9LyR7cmV0cmllcyArIDF9YCkgLy8gRGVidWcgbG9nXG4gICAgICAgICAgc2V0UmV0cnlDb3VudChhdHRlbXB0TnVtYmVyICsgMSlcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGZldGNoRGF0YShhdHRlbXB0TnVtYmVyICsgMSlcbiAgICAgICAgICB9LCByZXRyeURlbGF5ICogKGF0dGVtcHROdW1iZXIgKyAxKSkgLy8gRXhwb25lbnRpYWwgYmFja29mZlxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBzZXRFcnJvcihlcnJvck1zZylcbiAgICAgICAgb25FcnJvcj8uKGVycm9yTXNnKVxuICAgICAgICBjb25zb2xlLmxvZygn4p2MIEFQSSBjYWxsIGZhaWxlZDonLCBlcnJvck1zZykgLy8gRGVidWcgbG9nXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IgJiYgZXJyLm5hbWUgPT09ICdBYm9ydEVycm9yJykge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+aqyBSZXF1ZXN0IHdhcyBhYm9ydGVkJykgLy8gRGVidWcgbG9nXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ05ldHdvcmsgZXJyb3InXG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIHdlIHNob3VsZCByZXRyeVxuICAgICAgY29uc3Qgc2hvdWxkUmV0cnkgPSBhdHRlbXB0TnVtYmVyIDwgcmV0cmllcyAmJiAoXG4gICAgICAgIGVycm9yTWVzc2FnZS5pbmNsdWRlcygnTmV0d29yayBlcnJvcicpIHx8XG4gICAgICAgIGVycm9yTWVzc2FnZS5pbmNsdWRlcygndGltZW91dCcpIHx8XG4gICAgICAgIGVycm9yTWVzc2FnZS5pbmNsdWRlcygnZmV0Y2gnKVxuICAgICAgKVxuICAgICAgXG4gICAgICBpZiAoc2hvdWxkUmV0cnkpIHtcbiAgICAgICAgY29uc29sZS5sb2coYPCflIEgUmV0cnlpbmcgYWZ0ZXIgZXJyb3I6ICR7ZXJyb3JNZXNzYWdlfS4gQXR0ZW1wdCAke2F0dGVtcHROdW1iZXIgKyAyfS8ke3JldHJpZXMgKyAxfWApIC8vIERlYnVnIGxvZ1xuICAgICAgICBzZXRSZXRyeUNvdW50KGF0dGVtcHROdW1iZXIgKyAxKVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBmZXRjaERhdGEoYXR0ZW1wdE51bWJlciArIDEpXG4gICAgICAgIH0sIHJldHJ5RGVsYXkgKiAoYXR0ZW1wdE51bWJlciArIDEpKSAvLyBFeHBvbmVudGlhbCBiYWNrb2ZmXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgXG4gICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpXG4gICAgICBvbkVycm9yPy4oZXJyb3JNZXNzYWdlKVxuICAgICAgY29uc29sZS5sb2coJ/CfkqUgQVBJIGNhbGwgZXJyb3I6JywgZXJyb3JNZXNzYWdlKSAvLyBEZWJ1ZyBsb2dcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGF0dGVtcHROdW1iZXIgPT09IDAgfHwgYXR0ZW1wdE51bWJlciA+PSByZXRyaWVzKSB7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpXG4gICAgICAgIHNldEFib3J0Q29udHJvbGxlcihudWxsKVxuICAgICAgICBjb25zb2xlLmxvZygn8J+PgSBBUEkgY2FsbCBmaW5pc2hlZCwgbG9hZGluZyBzZXQgdG8gZmFsc2UnKSAvLyBEZWJ1ZyBsb2dcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtlbmFibGVkLCB0aW1lb3V0LCByZXRyaWVzLCByZXRyeURlbGF5XSkgLy8gUmVtb3ZlZCBhcGlDYWxsLCBvblN1Y2Nlc3MsIG9uRXJyb3IgZnJvbSBkZXBlbmRlbmNpZXMgdG8gcHJldmVudCBpbmZpbml0ZSBsb29wc1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGltbWVkaWF0ZSAmJiBlbmFibGVkKSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+agCB1c2VFZmZlY3QgdHJpZ2dlcmVkLCBjYWxsaW5nIGZldGNoRGF0YScpIC8vIERlYnVnIGxvZ1xuICAgICAgZmV0Y2hEYXRhKClcbiAgICB9XG4gICAgXG4gICAgLy8gQ2xlYW51cCBmdW5jdGlvbiB0byBhYm9ydCBvbmdvaW5nIHJlcXVlc3RzXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChhYm9ydENvbnRyb2xsZXIpIHtcbiAgICAgICAgYWJvcnRDb250cm9sbGVyLmFib3J0KClcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtpbW1lZGlhdGUsIGVuYWJsZWRdKSAvLyBSZW1vdmVkIGZldGNoRGF0YSBmcm9tIGRlcGVuZGVuY2llc1xuXG4gIHJldHVybiB7XG4gICAgZGF0YSxcbiAgICBsb2FkaW5nLFxuICAgIGVycm9yLFxuICAgIHJlZmV0Y2g6ICgpID0+IGZldGNoRGF0YSgwKSwgLy8gQWx3YXlzIHN0YXJ0IGZyb20gYXR0ZW1wdCAwIGZvciBtYW51YWwgcmVmZXRjaFxuICAgIHRpbWVkT3V0LFxuICAgIHJldHJ5Q291bnRcbiAgfVxufVxuXG4vLyBIb29rIGZvciBoYW5kbGluZyBsb2FkaW5nIHRpbWVvdXRzXG5leHBvcnQgZnVuY3Rpb24gdXNlTG9hZGluZ1RpbWVvdXQoaXNMb2FkaW5nOiBib29sZWFuLCB0aW1lb3V0TXM6IG51bWJlciA9IDEwMDAwKSB7XG4gIGNvbnN0IFtoYXNUaW1lZE91dCwgc2V0SGFzVGltZWRPdXRdID0gdXNlU3RhdGUoZmFsc2UpXG4gIFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghaXNMb2FkaW5nKSB7XG4gICAgICBzZXRIYXNUaW1lZE91dChmYWxzZSlcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBcbiAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2V0SGFzVGltZWRPdXQodHJ1ZSlcbiAgICAgIGNvbnNvbGUubG9nKCfij7AgTG9hZGluZyB0aW1lb3V0IHJlYWNoZWQgYWZ0ZXInLCB0aW1lb3V0TXMsICdtcycpXG4gICAgfSwgdGltZW91dE1zKVxuICAgIFxuICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZXIpXG4gIH0sIFtpc0xvYWRpbmcsIHRpbWVvdXRNc10pXG4gIFxuICByZXR1cm4gaGFzVGltZWRPdXRcbn1cblxuLy8gSG9vayBmb3IgbXV0YXRpb25zIChQT1NULCBQVVQsIERFTEVURSlcbmV4cG9ydCBmdW5jdGlvbiB1c2VBcGlNdXRhdGlvbjxURGF0YSwgVFZhcmlhYmxlcyA9IGFueT4oXG4gIG11dGF0aW9uRm46ICh2YXJpYWJsZXM6IFRWYXJpYWJsZXMpID0+IFByb21pc2U8QXBpUmVzcG9uc2U8VERhdGE+PixcbiAgb3B0aW9uczoge1xuICAgIG9uU3VjY2Vzcz86IChkYXRhOiBURGF0YSkgPT4gdm9pZFxuICAgIG9uRXJyb3I/OiAoZXJyb3I6IHN0cmluZykgPT4gdm9pZFxuICB9ID0ge31cbikge1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKVxuXG4gIGNvbnN0IG11dGF0ZSA9IHVzZUNhbGxiYWNrKGFzeW5jICh2YXJpYWJsZXM6IFRWYXJpYWJsZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgc2V0TG9hZGluZyh0cnVlKVxuICAgICAgc2V0RXJyb3IobnVsbClcbiAgICAgIFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBtdXRhdGlvbkZuKHZhcmlhYmxlcylcbiAgICAgIFxuICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgb3B0aW9ucy5vblN1Y2Nlc3M/LihyZXNwb25zZS5kYXRhKVxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0RXJyb3IocmVzcG9uc2UuZXJyb3IgfHwgJ1Vua25vd24gZXJyb3Igb2NjdXJyZWQnKVxuICAgICAgICBvcHRpb25zLm9uRXJyb3I/LihyZXNwb25zZS5lcnJvciB8fCAnVW5rbm93biBlcnJvciBvY2N1cnJlZCcpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZS5lcnJvcilcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnTmV0d29yayBlcnJvcidcbiAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSlcbiAgICAgIG9wdGlvbnMub25FcnJvcj8uKGVycm9yTWVzc2FnZSlcbiAgICAgIHRocm93IGVyclxuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKVxuICAgIH1cbiAgfSwgW211dGF0aW9uRm4sIG9wdGlvbnNdKVxuXG4gIHJldHVybiB7XG4gICAgbXV0YXRlLFxuICAgIGxvYWRpbmcsXG4gICAgZXJyb3IsXG4gICAgcmVzZXQ6ICgpID0+IHNldEVycm9yKG51bGwpXG4gIH1cbn1cblxuLy8gU3BlY2lmaWMgaG9va3MgZm9yIGNvbW1vbiBBUEkgY2FsbHNcblxuLy8gVXNlciBQcm9maWxlIEhvb2tzXG5leHBvcnQgZnVuY3Rpb24gdXNlVXNlclByb2ZpbGUob3B0aW9uczogeyBlbmFibGVkPzogYm9vbGVhbiB9ID0ge30pIHtcbiAgY29uc3QgeyBlbmFibGVkID0gdHJ1ZSB9ID0gb3B0aW9uc1xuICBcbiAgcmV0dXJuIHVzZUFwaSgoKSA9PiBhcGlDbGllbnQudXNlci5nZXRQcm9maWxlKCksIHtcbiAgICBlbmFibGVkLFxuICAgIHRpbWVvdXQ6IDE1MDAwLCAvLyAxNSBzZWNvbmQgdGltZW91dCBmb3IgcHJvZmlsZVxuICAgIG9uU3VjY2VzczogKGRhdGEpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5GkIFVzZXIgcHJvZmlsZSBsb2FkZWQgc3VjY2Vzc2Z1bGx5OicsIGRhdGEpXG4gICAgfSxcbiAgICBvbkVycm9yOiAoZXJyb3IpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5GkIFVzZXIgcHJvZmlsZSBmYWlsZWQgdG8gbG9hZDonLCBlcnJvcilcbiAgICB9XG4gIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VVcGRhdGVVc2VyUHJvZmlsZSgpIHtcbiAgcmV0dXJuIHVzZUFwaU11dGF0aW9uKChwcm9maWxlRGF0YTogYW55KSA9PiBcbiAgICBhcGlDbGllbnQudXNlci51cGRhdGVQcm9maWxlKHByb2ZpbGVEYXRhKVxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VVcGxvYWRBdmF0YXIoKSB7XG4gIHJldHVybiB1c2VBcGlNdXRhdGlvbigoZmlsZTogRmlsZSkgPT4gXG4gICAgYXBpQ2xpZW50LnVzZXIudXBsb2FkQXZhdGFyKGZpbGUpXG4gIClcbn1cblxuLy8gRG9jdG9yIFByb2ZpbGUgSG9va3NcbmV4cG9ydCBmdW5jdGlvbiB1c2VEb2N0b3JQcm9maWxlKCkge1xuICByZXR1cm4gdXNlQXBpKCgpID0+IGFwaUNsaWVudC5kb2N0b3IuZ2V0UHJvZmlsZSgpKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlVXBkYXRlRG9jdG9yUHJvZmlsZSgpIHtcbiAgcmV0dXJuIHVzZUFwaU11dGF0aW9uKChwcm9maWxlRGF0YTogYW55KSA9PiBcbiAgICBhcGlDbGllbnQuZG9jdG9yLnVwZGF0ZVByb2ZpbGUocHJvZmlsZURhdGEpXG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZURvY3RvckF2YWlsYWJpbGl0eSgpIHtcbiAgcmV0dXJuIHVzZUFwaSgoKSA9PiBhcGlDbGllbnQuZG9jdG9yLmdldEF2YWlsYWJpbGl0eSgpKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlVXBkYXRlRG9jdG9yQXZhaWxhYmlsaXR5KCkge1xuICByZXR1cm4gdXNlQXBpTXV0YXRpb24oKGF2YWlsYWJpbGl0eURhdGE6IGFueSkgPT4gXG4gICAgYXBpQ2xpZW50LmRvY3Rvci51cGRhdGVBdmFpbGFiaWxpdHkoYXZhaWxhYmlsaXR5RGF0YSlcbiAgKVxufVxuXG4vLyBEb2N0b3IgU2VhcmNoIEhvb2tcbmV4cG9ydCBmdW5jdGlvbiB1c2VEb2N0b3JTZWFyY2gocGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge30pIHtcbiAgcmV0dXJuIHVzZUFwaSgoKSA9PiBhcGlDbGllbnQuZG9jdG9yLnNlYXJjaChwYXJhbXMpLCB7XG4gICAgaW1tZWRpYXRlOiBPYmplY3Qua2V5cyhwYXJhbXMpLmxlbmd0aCA+IDBcbiAgfSlcbn1cblxuLy8gU3BlY2lhbGl6YXRpb25zIEhvb2tcbmV4cG9ydCBmdW5jdGlvbiB1c2VTcGVjaWFsaXphdGlvbnMoKSB7XG4gIHJldHVybiB1c2VBcGkoKCkgPT4gYXBpQ2xpZW50LmRvY3Rvci5nZXRTcGVjaWFsaXphdGlvbnMoKSlcbn1cblxuLy8gQWRtaW4gSG9va3NcbmV4cG9ydCBmdW5jdGlvbiB1c2VBZG1pblVzZXJzKHBhcmFtczogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9KSB7XG4gIHJldHVybiB1c2VBcGkoKCkgPT4gYXBpQ2xpZW50LmFkbWluLmdldFVzZXJzKHBhcmFtcykpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VVcGRhdGVVc2VyU3RhdHVzKCkge1xuICByZXR1cm4gdXNlQXBpTXV0YXRpb24oKGRhdGE6IHsgdXNlcklkOiBzdHJpbmc7IGlzQWN0aXZlOiBib29sZWFuOyByZWFzb24/OiBzdHJpbmcgfSkgPT4gXG4gICAgYXBpQ2xpZW50LmFkbWluLnVwZGF0ZVVzZXJTdGF0dXMoZGF0YS51c2VySWQsIGRhdGEuaXNBY3RpdmUsIGRhdGEucmVhc29uKVxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VVc2VyQW5hbHl0aWNzKHBlcmlvZD86IHN0cmluZykge1xuICByZXR1cm4gdXNlQXBpKCgpID0+IGFwaUNsaWVudC5hZG1pbi5nZXRVc2VyQW5hbHl0aWNzKHBlcmlvZCkpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VQZW5kaW5nRG9jdG9ycyhwYXJhbXM6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fSkge1xuICByZXR1cm4gdXNlQXBpKCgpID0+IGFwaUNsaWVudC5hZG1pbi5nZXRQZW5kaW5nRG9jdG9ycyhwYXJhbXMpKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlQXBwcm92ZURvY3RvcigpIHtcbiAgcmV0dXJuIHVzZUFwaU11dGF0aW9uKChkYXRhOiB7IFxuICAgIGRvY3RvcklkOiBzdHJpbmc7IFxuICAgIGFjdGlvbjogJ2FwcHJvdmUnIHwgJ3JlamVjdCc7IFxuICAgIHJlYXNvbj86IHN0cmluZzsgXG4gICAgYXNzaWduUGF0aWVudHM/OiBib29sZWFuIFxuICB9KSA9PiBcbiAgICBhcGlDbGllbnQuYWRtaW4uYXBwcm92ZURvY3RvcihkYXRhLmRvY3RvcklkLCBkYXRhLmFjdGlvbiwgZGF0YS5yZWFzb24sIGRhdGEuYXNzaWduUGF0aWVudHMpXG4gIClcbn1cblxuLy8gRG9jdG9yIFJlZ2lzdHJhdGlvbiBIb29rXG5leHBvcnQgZnVuY3Rpb24gdXNlUmVnaXN0ZXJEb2N0b3IoKSB7XG4gIHJldHVybiB1c2VBcGlNdXRhdGlvbigoZG9jdG9yRGF0YTogYW55KSA9PiBcbiAgICBhcGlDbGllbnQuZG9jdG9yLnJlZ2lzdGVyKGRvY3RvckRhdGEpXG4gIClcbn1cblxuLy8gSGVscGVyIGhvb2sgZm9yIHBhZ2luYXRpb25cbmV4cG9ydCBmdW5jdGlvbiB1c2VQYWdpbmF0aW9uKGluaXRpYWxQYWdlID0gMSwgaW5pdGlhbExpbWl0ID0gMTApIHtcbiAgY29uc3QgW3BhZ2UsIHNldFBhZ2VdID0gdXNlU3RhdGUoaW5pdGlhbFBhZ2UpXG4gIGNvbnN0IFtsaW1pdCwgc2V0TGltaXRdID0gdXNlU3RhdGUoaW5pdGlhbExpbWl0KVxuXG4gIGNvbnN0IG5leHRQYWdlID0gKCkgPT4gc2V0UGFnZShwcmV2ID0+IHByZXYgKyAxKVxuICBjb25zdCBwcmV2UGFnZSA9ICgpID0+IHNldFBhZ2UocHJldiA9PiBNYXRoLm1heCgxLCBwcmV2IC0gMSkpXG4gIGNvbnN0IGdvVG9QYWdlID0gKG5ld1BhZ2U6IG51bWJlcikgPT4gc2V0UGFnZShNYXRoLm1heCgxLCBuZXdQYWdlKSlcbiAgY29uc3QgY2hhbmdlTGltaXQgPSAobmV3TGltaXQ6IG51bWJlcikgPT4ge1xuICAgIHNldExpbWl0KG5ld0xpbWl0KVxuICAgIHNldFBhZ2UoMSkgLy8gUmVzZXQgdG8gZmlyc3QgcGFnZSB3aGVuIGNoYW5naW5nIGxpbWl0XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHBhZ2UsXG4gICAgbGltaXQsXG4gICAgbmV4dFBhZ2UsXG4gICAgcHJldlBhZ2UsXG4gICAgZ29Ub1BhZ2UsXG4gICAgY2hhbmdlTGltaXQsXG4gICAgcGFyYW1zOiB7IHBhZ2U6IHBhZ2UudG9TdHJpbmcoKSwgbGltaXQ6IGxpbWl0LnRvU3RyaW5nKCkgfVxuICB9XG59XG5cbi8vIEhlbHBlciBob29rIGZvciBzZWFyY2hcbmV4cG9ydCBmdW5jdGlvbiB1c2VTZWFyY2goaW5pdGlhbFF1ZXJ5ID0gJycpIHtcbiAgY29uc3QgW3F1ZXJ5LCBzZXRRdWVyeV0gPSB1c2VTdGF0ZShpbml0aWFsUXVlcnkpXG4gIGNvbnN0IFtkZWJvdW5jZWRRdWVyeSwgc2V0RGVib3VuY2VkUXVlcnldID0gdXNlU3RhdGUoaW5pdGlhbFF1ZXJ5KVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNldERlYm91bmNlZFF1ZXJ5KHF1ZXJ5KVxuICAgIH0sIDMwMCkgLy8gMzAwbXMgZGVib3VuY2VcblxuICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZXIpXG4gIH0sIFtxdWVyeV0pXG5cbiAgcmV0dXJuIHtcbiAgICBxdWVyeSxcbiAgICBkZWJvdW5jZWRRdWVyeSxcbiAgICBzZXRRdWVyeSxcbiAgICBjbGVhclF1ZXJ5OiAoKSA9PiBzZXRRdWVyeSgnJylcbiAgfVxufSJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwiYXBpQ2xpZW50IiwidXNlQXBpIiwiYXBpQ2FsbCIsIm9wdGlvbnMiLCJpbW1lZGlhdGUiLCJvblN1Y2Nlc3MiLCJvbkVycm9yIiwidGltZW91dCIsImVuYWJsZWQiLCJyZXRyaWVzIiwicmV0cnlEZWxheSIsImRhdGEiLCJzZXREYXRhIiwibG9hZGluZyIsInNldExvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwidGltZWRPdXQiLCJzZXRUaW1lZE91dCIsImFib3J0Q29udHJvbGxlciIsInNldEFib3J0Q29udHJvbGxlciIsImxvYWRpbmdTdGFydFRpbWUiLCJzZXRMb2FkaW5nU3RhcnRUaW1lIiwicmV0cnlDb3VudCIsInNldFJldHJ5Q291bnQiLCJmZXRjaERhdGEiLCJhdHRlbXB0TnVtYmVyIiwiY29uc29sZSIsImxvZyIsImFib3J0IiwibmV3QWJvcnRDb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwiRGF0ZSIsIm5vdyIsInRpbWVvdXRQcm9taXNlIiwiUHJvbWlzZSIsIl8iLCJyZWplY3QiLCJzZXRUaW1lb3V0IiwiRXJyb3IiLCJyZXNwb25zZSIsInJhY2UiLCJzaWduYWwiLCJhYm9ydGVkIiwic3VjY2VzcyIsImVycm9yTXNnIiwic2hvdWxkUmV0cnkiLCJzdGF0dXMiLCJpbmNsdWRlcyIsImVyciIsIm5hbWUiLCJlcnJvck1lc3NhZ2UiLCJtZXNzYWdlIiwicmVmZXRjaCIsInVzZUxvYWRpbmdUaW1lb3V0IiwiaXNMb2FkaW5nIiwidGltZW91dE1zIiwiaGFzVGltZWRPdXQiLCJzZXRIYXNUaW1lZE91dCIsInRpbWVyIiwiY2xlYXJUaW1lb3V0IiwidXNlQXBpTXV0YXRpb24iLCJtdXRhdGlvbkZuIiwibXV0YXRlIiwidmFyaWFibGVzIiwicmVzZXQiLCJ1c2VVc2VyUHJvZmlsZSIsInVzZXIiLCJnZXRQcm9maWxlIiwidXNlVXBkYXRlVXNlclByb2ZpbGUiLCJwcm9maWxlRGF0YSIsInVwZGF0ZVByb2ZpbGUiLCJ1c2VVcGxvYWRBdmF0YXIiLCJmaWxlIiwidXBsb2FkQXZhdGFyIiwidXNlRG9jdG9yUHJvZmlsZSIsImRvY3RvciIsInVzZVVwZGF0ZURvY3RvclByb2ZpbGUiLCJ1c2VEb2N0b3JBdmFpbGFiaWxpdHkiLCJnZXRBdmFpbGFiaWxpdHkiLCJ1c2VVcGRhdGVEb2N0b3JBdmFpbGFiaWxpdHkiLCJhdmFpbGFiaWxpdHlEYXRhIiwidXBkYXRlQXZhaWxhYmlsaXR5IiwidXNlRG9jdG9yU2VhcmNoIiwicGFyYW1zIiwic2VhcmNoIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsInVzZVNwZWNpYWxpemF0aW9ucyIsImdldFNwZWNpYWxpemF0aW9ucyIsInVzZUFkbWluVXNlcnMiLCJhZG1pbiIsImdldFVzZXJzIiwidXNlVXBkYXRlVXNlclN0YXR1cyIsInVwZGF0ZVVzZXJTdGF0dXMiLCJ1c2VySWQiLCJpc0FjdGl2ZSIsInJlYXNvbiIsInVzZVVzZXJBbmFseXRpY3MiLCJwZXJpb2QiLCJnZXRVc2VyQW5hbHl0aWNzIiwidXNlUGVuZGluZ0RvY3RvcnMiLCJnZXRQZW5kaW5nRG9jdG9ycyIsInVzZUFwcHJvdmVEb2N0b3IiLCJhcHByb3ZlRG9jdG9yIiwiZG9jdG9ySWQiLCJhY3Rpb24iLCJhc3NpZ25QYXRpZW50cyIsInVzZVJlZ2lzdGVyRG9jdG9yIiwiZG9jdG9yRGF0YSIsInJlZ2lzdGVyIiwidXNlUGFnaW5hdGlvbiIsImluaXRpYWxQYWdlIiwiaW5pdGlhbExpbWl0IiwicGFnZSIsInNldFBhZ2UiLCJsaW1pdCIsInNldExpbWl0IiwibmV4dFBhZ2UiLCJwcmV2IiwicHJldlBhZ2UiLCJNYXRoIiwibWF4IiwiZ29Ub1BhZ2UiLCJuZXdQYWdlIiwiY2hhbmdlTGltaXQiLCJuZXdMaW1pdCIsInRvU3RyaW5nIiwidXNlU2VhcmNoIiwiaW5pdGlhbFF1ZXJ5IiwicXVlcnkiLCJzZXRRdWVyeSIsImRlYm91bmNlZFF1ZXJ5Iiwic2V0RGVib3VuY2VkUXVlcnkiLCJjbGVhclF1ZXJ5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/hooks/useApi.ts\n"));

/***/ })

});